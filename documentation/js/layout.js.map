{"version":3,"sources":["layout.js"],"names":["$","document","ready","AFFIX_TOP_LIMIT","AFFIX_OFFSET","$menu","on","toggleClass","each","getClosestHeader","top","last","$links","first","i","length","$link","eq","href","attr","charAt","$anchor","offset","$affixNav","this","$container","parent","affixNavfixed","current","className","find","window","evt","scrollY","height","outerHeight","max_bottom","bottom","removeClass","css","addClass","$current"],"mappings":"AAAAA,EAAEC,UAAUC,MAAM,WACd,GAAIC,GAAkB,IAClBC,EAAe,EAEfC,EAAQL,EAAE,QACTA,GAAE,eAEPA,GAAE,gBAAgBM,GAAG,QAAS,WAE1B,MADAD,GAAME,YAAY,SACX,IAIXP,EAAE,aAAaQ,KAAK,WAQhB,QAASC,GAAiBC,GACtB,GAAIC,GAAOC,EAAOC,OAElB,IAAIH,EAAMP,EACN,MAAOQ,EAGX,KAAK,GAAIG,GAAI,EAAGA,EAAIF,EAAOG,OAAQD,IAAK,CACpC,GAAIE,GAAQJ,EAAOK,GAAGH,GACjCI,EAAOF,EAAMG,KAAK,OAEP,IAAuB,MAAnBD,EAAKE,OAAO,IAAcF,EAAKH,OAAS,EAAG,CAC3C,GAAIM,GAAUrB,EAAEkB,GAAML,OAEtB,IAAIQ,EAAQN,OAAS,EAAG,CACpB,GAAIO,GAASD,EAAQC,QAErB,IAAIZ,EAAMY,EAAOZ,IAAMN,EACnB,MAAOO,EAGXA,GAAOK,IAInB,MAAOL,GAhCX,GAAIY,GAAYvB,EAAEwB,MACvBC,EAAaF,EAAUG,SACvBC,GAAgB,EAEhBC,GADoBJ,KAAKK,UACf,MACVjB,EAASW,EAAUO,KAAK,IA+BnB9B,GAAE+B,QAAQzB,GAAG,SAAU,SAAU0B,GAC7B,GAAItB,GAAMqB,OAAOE,QACtBC,EAASX,EAAUY,cACnBC,EAAaX,EAAWH,SAASZ,IAAMe,EAAWU,cAClDE,EAAS3B,EAAMwB,EAAS9B,CAEfuB,GACIjB,GAAOP,GACPoB,EAAUe,YAAY,SACtBf,EAAUgB,IAAI,MAAO,GACrBZ,GAAgB,GACTU,EAASD,EAChBb,EAAUgB,IAAI,MAAQH,EAAaF,EAAUxB,GAE7Ca,EAAUgB,IAAI,MAAOnC,GAElBM,EAAMP,IACboB,EAAUiB,SAAS,SACnBb,GAAgB,EAGpB,IAAIc,GAAWhC,EAAiBC,EAE5BkB,KAAYa,IACZlB,EAAUO,KAAK,WAAWQ,YAAY,UACtCG,EAASD,SAAS,UAClBZ,EAAUa","file":"layout.js","sourcesContent":["$(document).ready(function () {\r\n    var AFFIX_TOP_LIMIT = 320;\r\n    var AFFIX_OFFSET = 0;\r\n\r\n    var $menu = $(\"#menu\"),\r\n\t\t$btn = $(\"#menu-toggle\");\r\n\r\n    $(\"#menu-toggle\").on(\"click\", function () {\r\n        $menu.toggleClass(\"open\");\r\n        return false;\r\n    });\r\n\r\n\r\n    $(\".docs-nav\").each(function () {\r\n        var $affixNav = $(this),\r\n\t\t\t$container = $affixNav.parent(),\r\n\t\t\taffixNavfixed = false,\r\n\t\t\toriginalClassName = this.className,\r\n\t\t\tcurrent = null,\r\n\t\t\t$links = $affixNav.find(\"a\");\r\n\r\n        function getClosestHeader(top) {\r\n            var last = $links.first();\r\n\r\n            if (top < AFFIX_TOP_LIMIT) {\r\n                return last;\r\n            }\r\n\r\n            for (var i = 0; i < $links.length; i++) {\r\n                var $link = $links.eq(i),\r\n\t\t\t\t\thref = $link.attr(\"href\");\r\n\r\n                if (href.charAt(0) === \"#\" && href.length > 1) {\r\n                    var $anchor = $(href).first();\r\n\r\n                    if ($anchor.length > 0) {\r\n                        var offset = $anchor.offset();\r\n\r\n                        if (top < offset.top - AFFIX_OFFSET) {\r\n                            return last;\r\n                        }\r\n\r\n                        last = $link;\r\n                    }\r\n                }\r\n            }\r\n            return last;\r\n        }\r\n\r\n\r\n        $(window).on(\"scroll\", function (evt) {\r\n            var top = window.scrollY,\r\n\t\t    \theight = $affixNav.outerHeight(),\r\n\t\t    \tmax_bottom = $container.offset().top + $container.outerHeight(),\r\n\t\t    \tbottom = top + height + AFFIX_OFFSET;\r\n\r\n            if (affixNavfixed) {\r\n                if (top <= AFFIX_TOP_LIMIT) {\r\n                    $affixNav.removeClass(\"fixed\");\r\n                    $affixNav.css(\"top\", 0);\r\n                    affixNavfixed = false;\r\n                } else if (bottom > max_bottom) {\r\n                    $affixNav.css(\"top\", (max_bottom - height) - top);\r\n                } else {\r\n                    $affixNav.css(\"top\", AFFIX_OFFSET);\r\n                }\r\n            } else if (top > AFFIX_TOP_LIMIT) {\r\n                $affixNav.addClass(\"fixed\");\r\n                affixNavfixed = true;\r\n            }\r\n\r\n            var $current = getClosestHeader(top);\r\n\r\n            if (current !== $current) {\r\n                $affixNav.find(\".active\").removeClass(\"active\");\r\n                $current.addClass(\"active\");\r\n                current = $current;\r\n            }\r\n        });\r\n    });\r\n\t\r\n\t\r\n\t\r\n\t\r\n});\r\n"]}